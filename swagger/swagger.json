{"swagger":"2.0","info":{"version":"1.0.0","title":"Swagger Collect API","description":"API para sistema de gerenciamento de coleta","termsOfService":"http://helloreverb.com/terms/","contact":{"name":"nemubatubag@gmail.com"},"license":{"name":"MIT"}},"securityDefinitions":{"api_key":{"type":"apiKey","name":"Authorization","in":"header"}},"tags":[{"name":"collect","description":"Collect operations","externalDocs":{"description":"Find more info here","url":"https://swagger.io"}}],"host":"app-coleta-api.herokuapp.com","basePath":"/api/v1","consumes":["application/json"],"produces":["application/json"],"paths":{"/collects/{id}":{"get":{"summary":"Busca Coleta por ID","description":"Retorna um coleta se o usuário tiver permissão de acesso","operationId":"findCollectById","tags":["Collect"],"parameters":[{"name":"id","in":"path","description":"ID da coleta","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Coleta","schema":{"$ref":"#/definitions/CollectDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"put":{"summary":"Edita coleta no sistema","description":"Retorna a coleta atualizada","operationId":"UpdateCollect","produces":["application/json","text/html"],"tags":["Collect"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID da coleta","required":true},{"name":"collect","in":"body","description":"Dados de Coleta","required":true,"schema":{"$ref":"#/definitions/CollectInput"}}],"responses":{"200":{"description":"Coleta","schema":{"$ref":"#/definitions/CollectDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"delete":{"summary":"Exclui coleta no sistema","description":"Exclui a coleta atualizada","operationId":"DestroyCollect","produces":["application/json","text/html"],"tags":["Collect"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID da coleta","required":true}],"responses":{"204":{"description":"not_content"},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}},"/collects":{"get":{"summary":"Retorna todas as coletas cadastradas no sistema","description":"Retorna todas as coletas se o usuário tiver permissão de acesso","operationId":"FindCollects","produces":["application/json","text/html"],"tags":["Collect"],"responses":{"200":{"description":"Coleta","schema":{"type":"array","items":{"$ref":"#/definitions/CollectDTO"}}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"post":{"summary":"Cadastra coleta no sistema","description":"Retorna a coleta cadastrada","operationId":"AddCollect","produces":["application/json","text/html"],"tags":["Collect"],"parameters":[{"name":"collect","in":"body","description":"Dados de Coleta","required":true,"schema":{"$ref":"#/definitions/CollectInput"}}],"responses":{"200":{"description":"Coleta","schema":{"$ref":"#/definitions/CollectDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}}},"definitions":{"ErrorModel":{"required":["status","error"],"properties":{"status":{"type":"string"},"error":{"type":"string"}}},"CollectDTO":{"properties":{"id":{"type":"integer","format":"int64"},"note":{"type":"string"},"collect_status":{"$ref":"#/definitions/CollectStatusDTO"},"created_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"},"updated_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"}}},"CollectInput":{"properties":{"note":{"type":"string"},"collect_status_attributes":{"$ref":"#/definitions/CollectStatusInput"}}},"CollectStatusDTO":{"properties":{"id":{"type":"integer"},"name":{"type":"string"},"created_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"},"updated_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"}}},"CollectStatusInput":{"properties":{"id":{"type":"integer"},"name":{"type":"string"},"_destroy":{"type":"string"}}}}}