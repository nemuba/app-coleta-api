{"swagger":"2.0","info":{"version":"1.0.0","title":"Swagger Collect API","description":"API para sistema de gerenciamento de coleta","termsOfService":"http://helloreverb.com/terms/","contact":{"name":"nemubatubag@gmail.com"},"license":{"name":"MIT"}},"securityDefinitions":{"api_key":{"type":"apiKey","name":"Authorization","in":"header"}},"tags":[{"name":"collect","description":"Collect operations","externalDocs":{"description":"Find more info here","url":"https://swagger.io"}}],"host":"app-coleta-api.herokuapp.com","basePath":"/api/v1","consumes":["application/json"],"produces":["application/json"],"paths":{"/collects/{id}":{"get":{"summary":"Busca Coleta por ID","description":"Retorna um coleta se o usuário tiver permissão de acesso","operationId":"findCollectById","tags":["Collect"],"parameters":[{"name":"id","in":"path","description":"ID da coleta","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Coleta","schema":{"$ref":"#/definitions/CollectDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"put":{"summary":"Edita coleta no sistema","description":"Retorna a coleta atualizada","operationId":"UpdateCollect","produces":["application/json","text/html"],"tags":["Collect"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID da coleta","required":true},{"name":"collect","in":"body","description":"Dados de Coleta","required":true,"schema":{"$ref":"#/definitions/CollectInput"}}],"responses":{"200":{"description":"Coleta","schema":{"$ref":"#/definitions/CollectDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"delete":{"summary":"Exclui coleta no sistema","description":"Exclui a coleta atualizada","operationId":"DestroyCollect","produces":["application/json","text/html"],"tags":["Collect"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID da coleta","required":true}],"responses":{"204":{"description":"not_content"},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}},"/collects":{"get":{"summary":"Retorna todas as coletas cadastradas no sistema","description":"Retorna todas as coletas se o usuário tiver permissão de acesso","operationId":"FindCollects","produces":["application/json","text/html"],"tags":["Collect"],"responses":{"200":{"description":"Coleta","schema":{"type":"array","items":{"$ref":"#/definitions/CollectDTO"}}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"post":{"summary":"Cadastra coleta no sistema","description":"Retorna a coleta cadastrada","operationId":"AddCollect","produces":["application/json","text/html"],"tags":["Collect"],"parameters":[{"name":"collect","in":"body","description":"Dados de Coleta","required":true,"schema":{"$ref":"#/definitions/CollectInput"}}],"responses":{"200":{"description":"Coleta","schema":{"$ref":"#/definitions/CollectDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}},"/profiles/{id}":{"get":{"summary":"Busca Perfil por ID","description":"Retorna um perfil se o usuário tiver permissão de acesso","operationId":"findProfileById","tags":["Profile"],"parameters":[{"name":"id","in":"path","description":"ID do perfil","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Perfil","schema":{"$ref":"#/definitions/ProfileDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"put":{"summary":"Edita perfil no sistema","description":"Retorna o perfil atualizado","operationId":"UpdateProfile","produces":["application/json","text/html"],"tags":["Profile"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID do perfil","required":true},{"name":"profile","in":"body","description":"Dados do perfil","required":true,"schema":{"$ref":"#/definitions/ProfileInput"}}],"responses":{"200":{"description":"Perfil","schema":{"$ref":"#/definitions/ProfileDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"delete":{"summary":"Exclui perfil no sistema","description":"Exclui o perfil","operationId":"DestroyProfile","produces":["application/json","text/html"],"tags":["Profile"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID do perfil","required":true}],"responses":{"204":{"description":"not_content"},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}},"/profiles":{"get":{"summary":"Retorna todas os perfis cadastrados no sistema","description":"Retorna todas os perfis se o usuário tiver permissão de acesso","operationId":"FindProfiles","produces":["application/json","text/html"],"tags":["Profile"],"responses":{"200":{"description":"Perfil","schema":{"type":"array","items":{"$ref":"#/definitions/ProfileDTO"}}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"post":{"summary":"Cadastra perfil no sistema","description":"Retorna o perfil cadastrado","operationId":"AddProfile","produces":["application/json","text/html"],"tags":["Profile"],"parameters":[{"name":"profile","in":"body","description":"Dados do Perfil","required":true,"schema":{"$ref":"#/definitions/ProfileInput"}}],"responses":{"200":{"description":"Perfil","schema":{"$ref":"#/definitions/ProfileDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}},"/users/{id}":{"get":{"summary":"Busca Usuário por ID","description":"Retorna um usuário se o usuário tiver permissão de acesso","operationId":"findUserById","tags":["User"],"parameters":[{"name":"id","in":"path","description":"ID do usuário","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Usuário","schema":{"$ref":"#/definitions/UserDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"put":{"summary":"Edita usuário no sistema","description":"Retorna o usuário atualizado","operationId":"UpdateUser","produces":["application/json","text/html"],"tags":["User"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID do usuário","required":true},{"name":"user","in":"body","description":"Dados do usuário","required":true,"schema":{"$ref":"#/definitions/UserInput"}}],"responses":{"200":{"description":"Usuário","schema":{"$ref":"#/definitions/UserDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"delete":{"summary":"Exclui usuário no sistema","description":"Exclui o usuário","operationId":"DestroyUser","produces":["application/json","text/html"],"tags":["User"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID do usuário","required":true}],"responses":{"204":{"description":"not_content"},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}},"/users":{"get":{"summary":"Retorna todas os usuários cadastrados no sistema","description":"Retorna todas os usuários se o usuário tiver permissão de acesso","operationId":"FindUsers","produces":["application/json","text/html"],"tags":["User"],"responses":{"200":{"description":"Usuário","schema":{"type":"array","items":{"$ref":"#/definitions/UserDTO"}}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"post":{"summary":"Cadastra usuário no sistema","description":"Retorna o usuário cadastrado","operationId":"AddUser","produces":["application/json","text/html"],"tags":["User"],"parameters":[{"name":"user","in":"body","description":"Dados do Usuário","required":true,"schema":{"$ref":"#/definitions/UserInput"}}],"responses":{"200":{"description":"Usuário","schema":{"$ref":"#/definitions/UserDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}},"/products/{id}":{"get":{"summary":"Busca Produto por ID","description":"Retorna um produto se o usuário tiver permissão de acesso","operationId":"findProductById","tags":["Product"],"parameters":[{"name":"id","in":"path","description":"ID do produto","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Produto","schema":{"$ref":"#/definitions/ProductDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"put":{"summary":"Edita produto no sistema","description":"Retorna o produto atualizado","operationId":"UpdateProduct","produces":["application/json","text/html"],"tags":["Product"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID do produto","required":true},{"name":"product","in":"body","description":"Dados do produto","required":true,"schema":{"$ref":"#/definitions/ProductInput"}}],"responses":{"200":{"description":"Produto","schema":{"$ref":"#/definitions/ProductDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"delete":{"summary":"Exclui produto no sistema","description":"Exclui o produto","operationId":"DestroyProduct","produces":["application/json","text/html"],"tags":["Product"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID do produto","required":true}],"responses":{"204":{"description":"not_content"},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}},"/products":{"get":{"summary":"Retorna todas os produtos cadastrados no sistema","description":"Retorna todas os produtos se o usuário tiver permissão de acesso","operationId":"FindProducts","produces":["application/json","text/html"],"tags":["Product"],"responses":{"200":{"description":"Produto","schema":{"type":"array","items":{"$ref":"#/definitions/ProductDTO"}}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"post":{"summary":"Cadastra produto no sistema","description":"Retorna o produto cadastrado","operationId":"AddProduct","produces":["application/json","text/html"],"tags":["Product"],"parameters":[{"name":"product","in":"body","description":"Dados do Produto","required":true,"schema":{"$ref":"#/definitions/ProductInput"}}],"responses":{"200":{"description":"Produto","schema":{"$ref":"#/definitions/ProductDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}},"/systemmodules/{id}":{"get":{"summary":"Busca Módulo por ID","description":"Retorna um módulo se o usuário tiver permissão de acesso","operationId":"findSystemModuleById","tags":["System Module"],"parameters":[{"name":"id","in":"path","description":"ID do módulo","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Módulo","schema":{"$ref":"#/definitions/SystemModuleDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"put":{"summary":"Edita módulo no sistema","description":"Retorna o módulo atualizado","operationId":"UpdateSystemModule","produces":["application/json","text/html"],"tags":["System Module"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID do módulo","required":true},{"name":"system_module","in":"body","description":"Dados do módulo","required":true,"schema":{"$ref":"#/definitions/SystemModuleInput"}}],"responses":{"200":{"description":"Módulo","schema":{"$ref":"#/definitions/SystemModuleDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"delete":{"summary":"Exclui módulo no sistema","description":"Exclui o módulo","operationId":"DestroySystemModule","produces":["application/json","text/html"],"tags":["System Module"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID do módulo","required":true}],"responses":{"204":{"description":"not_content"},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}},"/systemmodules":{"get":{"summary":"Retorna todos os módulos cadastrados no sistema","description":"Retorna todos os módulos se o usuário tiver permissão de acesso","operationId":"FindSystemModules","produces":["application/json","text/html"],"tags":["System Module"],"responses":{"200":{"description":"Módulo","schema":{"type":"array","items":{"$ref":"#/definitions/SystemModuleDTO"}}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"post":{"summary":"Cadastra módulo no sistema","description":"Retorna o módulo cadastrado","operationId":"AddSystemModule","produces":["application/json","text/html"],"tags":["System Module"],"parameters":[{"name":"system_module","in":"body","description":"Dados do Módulo","required":true,"schema":{"$ref":"#/definitions/SystemModuleInput"}}],"responses":{"200":{"description":"Módulo","schema":{"$ref":"#/definitions/SystemModuleDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}},"/routes/{id}":{"get":{"summary":"Busca Rota por ID","description":"Retorna uma rota se o usuário tiver permissão de acesso","operationId":"findRouteById","tags":["Route"],"parameters":[{"name":"id","in":"path","description":"ID da rota","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Rota","schema":{"$ref":"#/definitions/RouteDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"put":{"summary":"Edita rota no sistema","description":"Retorna a rota atualizada","operationId":"UpdateRoute","produces":["application/json","text/html"],"tags":["Route"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID da rota","required":true},{"name":"route","in":"body","description":"Dados de Rota","required":true,"schema":{"$ref":"#/definitions/RouteInput"}}],"responses":{"200":{"description":"Rota","schema":{"$ref":"#/definitions/RouteDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"delete":{"summary":"Exclui rota no sistema","description":"Exclui a rota atualizada","operationId":"DestroyRoute","produces":["application/json","text/html"],"tags":["Route"],"parameters":[{"name":"id","type":"integer","in":"path","description":"ID da rota","required":true}],"responses":{"204":{"description":"not_content"},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}},"/routes":{"get":{"summary":"Retorna todas as rotas cadastradas no sistema","description":"Retorna todas as rotas se o usuário tiver permissão de acesso","operationId":"FindRoutes","produces":["application/json","text/html"],"tags":["Route"],"responses":{"200":{"description":"Rota","schema":{"type":"array","items":{"$ref":"#/definitions/RouteDTO"}}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}},"post":{"summary":"Cadastra rota no sistema","description":"Retorna a rota cadastrada","operationId":"AddRoute","produces":["application/json","text/html"],"tags":["Route"],"parameters":[{"name":"route","in":"body","description":"Dados de Rota","required":true,"schema":{"$ref":"#/definitions/RouteInput"}}],"responses":{"200":{"description":"Rota","schema":{"$ref":"#/definitions/RouteDTO"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorModel"}}}}}},"definitions":{"ErrorModel":{"required":["status","error"],"properties":{"status":{"type":"string"},"error":{"type":"string"}}},"CollectDTO":{"properties":{"id":{"type":"integer","format":"int64"},"note":{"type":"string"},"collect_status":{"$ref":"#/definitions/CollectStatusDTO"},"created_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"},"updated_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"}}},"CollectInput":{"properties":{"note":{"type":"string"},"collect_status_attributes":{"$ref":"#/definitions/CollectStatusInput"}}},"CollectStatusDTO":{"properties":{"id":{"type":"integer"},"name":{"type":"string"},"created_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"},"updated_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"}}},"CollectStatusInput":{"properties":{"id":{"type":"integer"},"name":{"type":"string"},"_destroy":{"type":"string"}}},"ProfileDTO":{"properties":{"id":{"type":"integer"},"user_id":{"type":"integer"},"name":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"document":{"type":"string"},"address":{"$ref":"#/definitions/AddressDTO"},"created_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"},"updated_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"}}},"ProfileInput":{"properties":{"id":{"type":"integer"},"user_id":{"type":"integer"},"name":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"document":{"type":"string"},"address_attributes":{"$ref":"#/definitions/AddressInput"}}},"UserDTO":{"properties":{"id":{"type":"integer"},"email":{"type":"integer"},"role":{"type":"string"},"profile":{"$ref":"#/definitions/ProfileDTO"},"created_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"},"updated_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"}}},"UserInput":{"properties":{"id":{"type":"integer"},"email":{"type":"integer"},"role":{"type":"string"}}},"ProductDTO":{"properties":{"id":{"type":"integer"},"user_id":{"type":"integer"},"name":{"type":"string"},"price":{"type":"number"},"point":{"type":"number"},"created_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"},"updated_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"}}},"ProductInput":{"properties":{"id":{"type":"integer"},"user_id":{"type":"integer"},"name":{"type":"string"},"price":{"type":"number"},"point":{"type":"number"}}},"SystemModuleDTO":{"properties":{"id":{"type":"integer"},"user_id":{"type":"integer"},"name":{"type":"string"},"created_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"},"updated_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"}}},"SystemModuleInput":{"properties":{"id":{"type":"integer"},"name":{"type":"string"},"user_id":{"type":"integer"}}},"AddressDTO":{"properties":{"id":{"type":"integer","format":"int64"},"street":{"type":"string"},"number":{"type":"string"},"neighborhood":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"zip_code":{"type":"string"},"latitude":{"type":"number"},"longitude":{"type":"number"},"profile_id":{"type":"integer"},"created_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"},"updated_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"}}},"AddressInput":{"properties":{"id":{"type":"integer","format":"int64"},"street":{"type":"string"},"number":{"type":"string"},"neighborhood":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"zip_code":{"type":"string"},"latitude":{"type":"number"},"longitude":{"type":"number"},"profile_id":{"type":"integer"},"_destroy":{"type":"string"}}},"RouteDTO":{"properties":{"id":{"type":"integer","format":"int64"},"user_id":{"type":"integer","format":"int64"},"date_collect":{"type":"string"},"date_start":{"type":"string"},"date_finish":{"type":"string"},"created_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"},"updated_at":{"type":"string","format":"yyyy-MM-dd HH24:MI:SS.MS Z"}}},"RouteInput":{"properties":{"date_collect":{"type":"string"},"date_start":{"type":"string"},"date_finish":{"type":"string"}}}}}